<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Küchenrechner</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 10px;
    background: #1e1e1e;
    color: #333;
}
h1, h2, h3 {
    color: #0066b3;
    margin-top: 20px;
}
.menu-category {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    padding: 15px;
    margin-bottom: 20px;
}
.menu-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
    border-bottom: 1px solid #eee;
}
.menu-item:last-child {
    border-bottom: none;
}
.menu-item-name {
    flex-grow: 1;
}
.menu-item-price {
    margin: 0 10px;
    color: #0066b3;
    font-weight: bold;
}
.menu-item input {
    width: 40px;
    text-align: center;
}
#total, #payment {
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    margin-top: 20px;
}
#summary-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #0066b3;
    color: white;
    padding: 10px;
    font-size: 1em;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
}
#wertmarken {
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    margin-top: 20px;
}
#wertmarken input {
    width: 60px;
    padding: 5px;
    margin-left: 10px;
}
</style>
</head>
<body>
<h1>Küchenrechner</h1>
<div id="wertmarken">
    <h2>Wertmarken</h2>
    <div>
        <label>Bierzeichen (13,74€): <input type="number" id="bierzeichen" min="0" value="0" onchange="updateTotal()"></label>
    </div>
    <div>
        <label>Essenszeichen (11,5€): <input type="number" id="essensmarke" min="0" value="0" onchange="updateTotal()"></label>
    </div>
</div>
<div id="menu"></div>
<div id="total"></div>
<div id="summary-bar"></div>

<script>
const menu = [
    {
        category: "Getränke",
        items: [
            {name: "Bier", price: 15.10},
            {name: "Wasser 0,5l", price: 5.95},
            {name: "Spezi 0,5l", price: 6.50},
            {name: "Apfelschorle 0,5l", price: 6.15},
            {name: "Wasser 0,75l", price: 11.20},
            {name: "Weinschorle 0,5l weiß", price: 16.00},
            {name: "Weißwein 0,5l", price: 27.50},
            {name: "Willi 4cl", price: 11.00},
            {name: "Jägermeister 2cl", price: 7.50},
            {name: "Feigling 2cl", price: 6.00}
        ]
    },
    {
        category: "Suppen",
        items: [
            {name: "Pfannenkuchensuppe", price: 8.50},
            {name: "Tomaten-Orangen-Creme-Suppe", price: 10.80},
            {name: "Leberknödelsuppe", price: 10.80}
        ]
    },
    {
        category: "Brozeiten",
        items: [
            {name: "Bayerisches Carpaccio", price: 19.80},
            {name: "Obatzda / Wurstsalat", price: 16.50},
            {name: "Schweizer Wurstsalat", price: 18.00},
            {name: "Geflügelsalat", price: 17.80},
            {name: "Wiesbrezn", price: 7.40},
            {name: "Kleine Breze", price: 2.40},
            {name: "Speckstange", price: 4.90}
        ]
    },
    {
        category: "Würstlküche",
        items: [
            {name: "Würstl-Mix / Leberk.-Salat", price: 17.80},
            {name: "Weißwurst", price: 10.80},
            {name: "Nürnberger-Rostbratwürstl", price: 18.80}
        ]
    },
    {
        category: "Unsere Zeltklassiker",
        items: [
            {name: "Hirschbraten", price: 30.80},
            {name: "Backhendl / Rindsgulasch", price: 25.80},
            {name: "Bio-Hendl", price: 23.00},
            {name: "Schweinehaxe 1/2", price: 26.80},
            {name: "1/4 Ente", price: 29.80},
            {name: "1/2 Ente", price: 39.80},
            {name: "Schweinebraten", price: 24.80},
            {name: "Ochsenbraten", price: 29.80},
            {name: "Kalbshaxn", price: 29.80}
        ]
    },
    {
        category: "Vegetarisch",
        items: [
            {name: "Nudeltascherl", price: 19.80},
            {name: "Currywurst (vegan) / Käsespätzle", price: 18.80},
            {name: "Rahmschwammerl", price: 21.80}
        ]
    },
    {
        category: "Beilagen",
        items: [
            {name: "Kartoffel / Krautsalat/ Bayr. Kraut", price: 6.50},
            {name: "Blaukraut/ Sauerkraut", price: 6.50},
            {name: "Knödel m. Soße Semmel/Kartoffel", price: 6.50}
        ]
    },
    {
        category: "Für die Kleinen",
        items: [
            {name: "Käsespätzle", price: 15.00},
            {name: "Backhendl", price: 18.00}
        ]
    },
    {
        category: "Mittagsgericht Montag bis Freitag",
        items: [
            {name: "Wiener-Schnitzel", price: 29.80},
            {name: "Burschen-Reindl", price: 36.80},
            {name: "Spinatknödel", price: 22.80}
        ]
    },
    {
        category: "Süßes",
        items: [
            {name: "Kaiserschmarrn", price: 19.80},
            {name: "Dampfnudel/ Apfelstrudel/ Mouse", price: 14.00},
            {name: "Kaffee", price: 9.90}
        ]
    }
];

function renderMenu() {
    document.getElementById('menu').innerHTML = menu.map(category => `
        <div class="menu-category">
            <h3>${category.category}</h3>
            ${category.items.map(item => `
                <div class="menu-item">
                    <span class="menu-item-name">${item.name}</span>
                    <span class="menu-item-price">${item.price.toFixed(2)} €</span>
                    <input type="number" min="0" value="0" onchange="updateTotal()">
                </div>
            `).join('')}
        </div>
    `).join('');
}

function updateTotal() {
    const inputs = document.querySelectorAll('.menu-item input');
    let total = 0;
    inputs.forEach((input, index) => {
        const quantity = parseInt(input.value) || 0;
        const price = menu.flatMap(c => c.items)[index].price;
        total += quantity * price;
    });

    const bierzeichen = parseInt(document.getElementById('bierzeichen').value) || 0;
    const essensmarke = parseInt(document.getElementById('essensmarke').value) || 0;
    
    const voucherTotal = (bierzeichen * 13.74) + (essensmarke * 11.5);
    const finalTotal = Math.max(total - voucherTotal, 0);

    document.getElementById('total').innerHTML = `
        <h2>Gesamtpreis: ${total.toFixed(2)} €</h2>
        <p>Abzug durch Wertmarken: ${voucherTotal.toFixed(2)} €</p>
        <h3>Zu zahlen: ${finalTotal.toFixed(2)} €</h3>
    `;

    updateSummaryBar(total, finalTotal);
}

function updateSummaryBar(total, finalTotal) {
    document.getElementById('summary-bar').innerHTML = `
        <span>Gesamt: ${total.toFixed(2)} €</span>
        <span>Zu zahlen: ${finalTotal.toFixed(2)} €</span>
    `;
}

renderMenu();
updateTotal();
</script>
</body>
</html>